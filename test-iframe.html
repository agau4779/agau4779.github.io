<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <meta http-equiv="X-UA-Compatible" content="ie=edge" />
      <title>Document</title>
      <style>
         body {
         background-color: silver;
         }
         input,
         button {
         min-height: 2em;
         margin: 1em;
         }
         input {
         display: block;
         width: 30rem;
         }
      </style>
   </head>
   <body>
      <div>
         <h3>I'm an IFrame that uses window.postMessage to talk to my parent</h3>
         <button id="button1">onboarding.complete</button>
         <button id="button2">onboarding.cancel</button>
         <button id="button3">onboarding.close</button>
         <button id="button4">onboarding.error</button>
         <h5>
            * Note that the window.postMessage data payloads can take on any shape.
            For example string, JSON, binary, etc. So, it's not just limited to
            strings.
         </h5>
      </div>
      <script>
         document.getElementById("button1").addEventListener("click", (e) => {
           window.parent.postMessage(
         {
             event: 'onboarding.complete',
             data: { integration_id: 'fake-edlink-integration-id', application: { id: "edlink-app-id" }, access_token: "fake-edlink-access-token" }
         },
             "*"
           );
         });
         document.getElementById("button2").addEventListener("click", (e) => {
           window.parent.postMessage(
         {
             event: 'onboarding.cancel'
         },
             "*"
           );
         });
         document.getElementById("button3").addEventListener("click", (e) => {
           window.parent.postMessage(
         {
             event: 'onboarding.close'
         },
             "*"
           );
         });
         document.getElementById("button4").addEventListener("click", (e) => {
           window.parent.postMessage(
         {
             event: 'onboarding.error',
             data: { error: 'something bad happened :(' }
         },
             "*"
           );
         });
      </script>
   </body>
</html>
